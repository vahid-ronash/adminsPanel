<simple-modal mcontrol="installTableCtrl.removeConfirmModal"  mclass="modal-sm" mid="removeFavDialog" mtitle="{{'FAVORITE_DEVICE' | translate}}">
    <div class="modal-body text-center p-lg">
        <p>{{'ARE_YOU_SURE_TEXT' | translate}}</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn dark-white p-x-md" data-dismiss="modal">{{'NO'|translate}}</button>
        <button type="button" class="btn danger p-x-md" data-dismiss="modal" ng-click="installTableCtrl.removeIMEI()">{{'YES'|translate}}</button>
    </div>
</simple-modal >
<simple-modal mcontrol="installTableCtrl.newFavModal" mclass="modal-sm" mid="addFavoriteDialog" mtitle="{{'FAVORITE_DEVICE' | translate}}">
    <form name="newFavForm" ng-submit="installTableCtrl.addNewFavorite()">
        <div class="m-b">
            <label class="" for="fav_name">{{'CHOOSE_NAME_4_FAVORITE' | translate}}</label>
            <input name="favName"
                   type="text"
                   class="form-control"
                   ng-model="installTableCtrl.favName"
                   placeholder="{{'FAVORITE_DEVICE_NAME'|translate}}"
                   id="fav_name">
        </div>

        <div>
            <span>{{'FAVORITE_DEVICE_IMEI'|translate}}</span>
            <h6>{{installTableCtrl.selectedToFavorite.imei}}</h6>
        </div>

        <!--SUBMIT-->
        <div ng-if="!installTableCtrl.isSubmiting">
            <button type="submit"
                    ng-disabled="form.$invalid || installTableCtrl.isSubmiting"
                    class="btn primary btn-block p-x-md">
                <!--class="btn-block mdl-button mdl-js-button mdl-button&#45;&#45;raised mdl-js-ripple-effect mdl-button&#45;&#45;colored">-->
                {{'ADD_FAVORITE' | translate}}
            </button>
        </div>
        <button class="btn disabled btn-block p-x-md" ng-if="installTableCtrl.isSubmiting">
            <div class="sk-wave" style="width:auto;margin:auto;height:24px;">
                <div ng-repeat="i in [1, 2, 3, 4 ,5]" class="sk-rect sk-rect{{i}}"
                     style="color:green;margin:0 1px 0 0;"></div>
            </div>
        </button>
        <!--SUBMIT END-->

    </form>
</simple-modal>

<div class="row">
    <div ng-class="{'col-sm-8':installTableCtrl.startSearch,'col-sx-12':!installTableCtrl.startSearch}">
        <div class="box">
            <div class="scrollabeTable">
                    <table table-height="500" fixed-header st-table="installTableCtrl.displayed" st-pagination-scroll st-pipe="installTableCtrl.callServer" class="table table-striped text-center">
                        <thead>
                        <tr>
                            <th class="text-center">{{'TEST' | translate}}</th>
                            <th class="text-center" st-sort="smart_device">{{'DEVICE_MODEL' | translate}}</th>
                            <th class="text-center" st-sort="imei">{{'DEVICE' | translate}}</th>
                            <th class="text-center" st-sort="application_id">{{'APPLICATION' | translate}}</th>
                            <th class="text-center" st-sort="creation_time">{{'INSTALLTIME' | translate}}</th>
                            <th width="0">
                                <label ng-hide="" mdl-upgrade class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="icon-toggle-search">
                                    <input ng-model="installTableCtrl.startSearch" type="checkbox" id="icon-toggle-search" class="mdl-icon-toggle__input" checked>
                                    <i class="mdl-icon-toggle__label material-icons">search</i>
                                </label>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in installTableCtrl.displayed" ng-mouseleave="row.showRemoveBtn=false;">
                            <td>
                                <div ng-show="row.favorite">
                                    <div>
                                        <a ng-mouseenter="row.showRemoveBtn=true;" class="btn have-beside" ng-click="installTableCtrl.sendTest(row)"><i class="fa fa-send"></i></a>
                                        <div ng-if="row.showRemoveBtn" class="animate fade-in-left removeIMEI">
                                            <span class="muted">{{row.favorite.name}}</span>
                                            <a ng-click="installTableCtrl.startRemoveIMEI(row)"><i class="fa fa-trash"></i></a>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="row.favorite">
                                    <div><a class="btn" ng-click="installTableCtrl.addToFavorite(row)"><i class="fa fa-star-o"></i></a></div>
                                </div>
                            </td>
                            <td>{{row.smart_device}}</td>
                            <td>{{row.imei}}</td>
                            <td>{{row.application|appName:this}}</td>
                            <td colspan="2">{{row.creation_time | jalali}}</td>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>
    </div>

    <div ng-class="{'col-sm-4 animated ':installTableCtrl.startSearch,'hide animated':!installTableCtrl.startSearch}">
        <div class="box">
            <form class="p-a-1">
                <div>
                    <label mdl-upgrade class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="icon-toggle-1">
                        <input ng-model="installTableCtrl.search.justFavorites" type="checkbox" id="icon-toggle-1" class="mdl-icon-toggle__input" checked>
                        <i class="mdl-icon-toggle__label material-icons">format_bold</i>
                    </label>
                </div>
                <div>
                    <div mdl-upgrade class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input text-left"
                               ng-model="installTableCtrl.search.smart_device"
                               type="text" id="smartDeviceTextSearch"
                        >
                        <label class="mdl-textfield__label" for="smartDeviceTextSearch">{{'APPLICATION' | translate}}</label>
                    </div>
                </div>
                <div>
                    <div mdl-upgrade class="mdl-textfield mdl-js-textfield">
                        <input class="mdl-textfield__input text-left"
                               ng-model="installTableCtrl.search.imei"
                               type="text" id="imeiTextSearch"
                        >
                        <label class="mdl-textfield__label" for="imeiTextSearch">{{'IMEI' | translate}}</label>
                    </div>
                </div>
                <div>
                    <select class="form-control" ng-model="installTableCtrl.search.application">
                        <option ng-repeat="option in installTableCtrl.appList" ng-value="option.value" ng-bind="option.name"></option>
                    </select>
                </div>
                <div class="ltr m-t">
                    <adm-dtp ng-model='installTableCtrl.dateFilter' options='{calType: "jalali",autoClose:true,multiple:false, format: "YYYY/MM/DD", default: 1450197600000}'></adm-dtp>
                </div>
                <div class="text-center m-t-2">
                    <button class="mdl-button mdl-js-ripple-effect">
                        {{'SEARCH'|translate}}
                        <i class="material-icons">search</i>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>



<!--<tfoot>-->
<!--<tr>-->
<!--<td colspan="5" class="text-center">-->
<!--<div st-pagination="" st-items-by-page="installTableCtrl.rowInPage" st-displayed-pages="installTableCtrl.displayedPages" class="m-a-0 ng-isolate-scope">-->
<!--</div>-->
<!--</td>-->
<!--</tr>-->
<!--</tfoot>-->